---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import BaseHead from "@components/BaseHead.astro";
import Footer from "@components/Footer.astro";
import FormattedDate from "@components/FormattedDate.astro";
import Header from "@components/Header.astro";

import "@styles/global.css";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
  </head>

  <body>
    <Header />

    <div class="mx-auto max-w-7xl sm:px-6 lg:px-8">
      <div class="mx-auto max-w-3xl">
        <main>
          <article>
            <div class="hero-image">
              {heroImage && <Image width={1020} height={510} src={heroImage} alt="" />}
            </div>
				    <div class="prose prose-slate lg:prose-xl">
              <div class="title">
                <div class="date">
                  <FormattedDate date={pubDate} />
                  {
                    updatedDate && (
                      <div class="last-updated-on">
                        Last updated on <FormattedDate date={updatedDate} />
                      </div>
                    )
                  }
                </div>
                <h1>{title}</h1>
                <hr />
              </div>
              <slot />
            </div>
          </article>
        </main>
      </div>
    </div>
    <Footer />
  </body>
</html>
